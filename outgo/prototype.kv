#:kivy 1.8.0

#:import Window kivy.core.window.Window

#:set col_number 3
#:set row_number 7


<NumberButton@Button>:
    font_size: 36
    width: Window.width / col_number
    height: Window.height / row_number


<TargetButton@ToggleButton>:
    font_size: 36
    width: Window.width / col_number
    height: Window.height / row_number
    group: 'target'


<PrototypeWidget>:
    number_display: number_display
    target_y: target_y
    target_n: target_n

    TextInput:
        id: number_display
        width: Window.width
        height: Window.height / row_number
        top: root.top
        text_size: self.size
        font_size: 36
        text: ''

    TargetButton:
        id: target_y
        top: root.height * 5 / row_number
        text: 'y'
        state: 'down'
        on_press: root.select_y()

    TargetButton:
        id: target_n
        right: root.width * 2 / col_number
        top: root.height * 5 / row_number
        text: 'n'
        on_press: root.select_n()

    NumberButton:
        id: number_button_b
        text: 'B'
        right: root.width
        top: root.height * 5 / row_number
        on_press: root.backspace()

    NumberButton:
        id: number_button_1
        text: '1'
        top: root.height * 2 / row_number
        on_press: root.input_number(number_button_1)

    NumberButton:
        id: number_button_2
        text: '2'
        right: root.width * 2 / col_number
        top: root.height * 2 / row_number
        on_press: root.input_number(number_button_2)

    NumberButton:
        id: number_button_3
        text: '3'
        right: root.width
        top: root.height * 2 / row_number
        on_press: root.input_number(number_button_3)

    NumberButton:
        id: number_button_4
        text: '4'
        top: root.height * 3 / row_number
        on_press: root.input_number(number_button_4)

    NumberButton:
        id: number_button_5
        text: '5'
        right: root.width * 2 / col_number
        top: root.height * 3 / row_number
        on_press: root.input_number(number_button_5)

    NumberButton:
        id: number_button_6
        text: '6'
        right: root.width
        top: root.height * 3 / row_number
        on_press: root.input_number(number_button_6)

    NumberButton:
        id: number_button_7
        text: '7'
        top: root.height * 4 / row_number
        on_press: root.input_number(number_button_7)

    NumberButton:
        id: number_button_8
        text: '8'
        right: root.width * 2 / col_number
        top: root.height * 4 / row_number
        on_press: root.input_number(number_button_8)

    NumberButton:
        id: number_button_9
        text: '9'
        right: root.width
        top: root.height * 4 / row_number
        on_press: root.input_number(number_button_9)

    Button:
        id: register
        text: 'register'
        width: Window.width / 2
        height: Window.height / row_number
        font_size: 36
        right: root.width

    Button:
        id: cancel
        text: 'cancel'
        width: Window.width / 2
        height: Window.height / row_number
        font_size: 36
        right: root.width / 2
